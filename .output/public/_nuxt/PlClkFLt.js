import{_ as N,a as R,b as S}from"./D-0hC8Ua.js";import{p as D,b as V,e as A,t as L,c as v,o as n,w as c,h as g,q as k,j as y,n as o,f,l as I,k as _,F as j,i as H,a as p,s as T,m as P,u as t,v as G,x as J,y as w,P as K,d as M,r as b,g as C,z as O}from"./BZF4Xa1W.js";import{u as Q,_ as W}from"./D8nI4ZGT.js";import"./D12Z653y.js";import"./BwLdb5kU.js";const X={slots:{root:"flex flex-col gap-3",title:"text-sm font-semibold flex items-center gap-1.5",list:"flex flex-col gap-2",item:"relative",link:"group text-sm flex items-center gap-1.5 focus-visible:outline-primary",linkLeadingIcon:"size-5 shrink-0",linkLabel:"truncate",linkLabelExternalIcon:"size-3 absolute top-0 text-dimmed"},variants:{active:{true:{link:"text-primary font-medium"},false:{link:["text-muted hover:text-default","transition-colors"]}}}},Y={__name:"UPageLinks",props:{as:{type:null,required:!1,default:"nav"},title:{type:String,required:!1},links:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(m){const l=m,r=D(),e=V(),s=A(()=>L({extend:L(X),...e.ui?.pageLinks||{}})());return(u,h)=>(n(),v(t(K),{as:m.as,"data-slot":"root",class:o(s.value.root({class:[l.ui?.root,l.class]}))},{default:c(()=>[m.title||r.title?(n(),g("p",{key:0,"data-slot":"title",class:o(s.value.title({class:l.ui?.title}))},[f(u.$slots,"title",{},()=>[I(_(m.title),1)])],2)):k("",!0),y("ul",{"data-slot":"list",class:o(s.value.list({class:l.ui?.list}))},[(n(!0),g(j,null,H(m.links,(a,d)=>(n(),g("li",{key:d,"data-slot":"item",class:o(s.value.item({class:[l.ui?.item,a.ui?.item]}))},[p(T,P({ref_for:!0},t(G)(a),{custom:""}),{default:c(({active:i,...x})=>[p(J,P({ref_for:!0},x,{"data-slot":"link",class:s.value.link({class:[l.ui?.link,a.ui?.link,a.class],active:i})}),{default:c(()=>[f(u.$slots,"link",{link:a,active:i,ui:s.value},()=>[f(u.$slots,"link-leading",{link:a,active:i,ui:s.value},()=>[a.icon?(n(),v(w,{key:0,name:a.icon,"data-slot":"linkLeadingIcon",class:o(s.value.linkLeadingIcon({class:[l.ui?.linkLeadingIcon,a.ui?.linkLeadingIcon],active:i}))},null,8,["name","class"])):k("",!0)]),a.label||r["link-label"]?(n(),g("span",{key:0,"data-slot":"linkLabel",class:o(s.value.linkLabel({class:[l.ui?.linkLabel,a.ui?.linkLabel],active:i}))},[f(u.$slots,"link-label",{link:a,active:i},()=>[I(_(a.label),1)]),a.target==="_blank"?(n(),v(w,{key:0,name:t(e).ui.icons.external,"data-slot":"linkLabelExternalIcon",class:o(s.value.linkLabelExternalIcon({class:[l.ui?.linkLabelExternalIcon,a.ui?.linkLabelExternalIcon],active:i}))},null,8,["name","class"])):k("",!0)],2)):k("",!0),f(u.$slots,"link-trailing",{link:a,active:i})])]),_:2},1040,["class"])]),_:2},1040)],2))),128))],2)]),_:3},8,["as","class"]))}},Z=["src"],ee={class:"text-green-400"},ne=M({__name:"[slug]",async setup(m){let l,r;const e=b({}),s=b([{}]),{getByID:u}=([l,r]=C(()=>Q()),l=await l,r(),l),h=O();e.value=([l,r]=C(()=>u(parseInt(h.path.split("/")[3]))),l=await l,r(),l);const a=b(""),d=b("");e.value.result[0].icon_file!==null?(a.value=`https://api.unilibrary.uz/storage/PublisherResourceImage/${e.value.result[0].id}/images/${e.value.result[0].media[0].filename}.png`,e.value.result[0].publisher_file!==null&&(d.value=`https://api.unilibrary.uz/storage/PublisherResourceFile/${e.value.result[0].id}/images/${e.value.result[0].media[1].filename}.pdf`)):e.value.result[0].publisher_file!==null&&(d.value=`https://api.unilibrary.uz/storage/PublisherResourceFile/${e.value.result[0].id}/images/${e.value.result[0].media[0].filename}.pdf`),d.value===""?s.value=[{label:"No resource"}]:s.value=[{label:"Download",to:d,target:"_blank"}];const i=()=>{window.open(`https://api.unilibrary.uz/storage/PublisherResourceFile/${e.value.result[0].id}/images/${e.value.result[0].media[1].filename}.pdf`,"_blank")};return(x,$)=>{const z=R,F=Y,U=W,q=S,E=N;return n(),v(E,null,{default:c(()=>[p(z,{title:t(e).result[0].resource_type_name},null,8,["title"]),p(q,null,{default:c(()=>[p(U,{title:t(e).result[0].name,description:t(e).result[0].abstract_name,reverse:""},{leading:c(()=>[y("img",{src:t(a),alt:"Image",class:"w-50",onClick:$[0]||($[0]=B=>i(B))},null,8,Z)]),default:c(()=>[y("p",ee,_(t(e).result[0].authors)+" - "+_(t(e).result[0].publisher_name)+" - "+_(t(e).result[0].publisher_year),1),p(F,{links:t(s)},null,8,["links"])]),_:1},8,["title","description"])]),_:1})]),_:1})}}});export{ne as default};
